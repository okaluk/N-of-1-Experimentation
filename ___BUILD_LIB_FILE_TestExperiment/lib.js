(()=>{var t={186:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r}),t=n.hmd(t),function(e,r,s){var i,a=256,o="random",_=s.pow(a,6),u=s.pow(2,52),c=2*u,h=a-1;function p(t,h,p){var w=[],x=f(l((h=1==h?{entropy:!0}:h||{}).entropy?[t,g(r)]:null==t?function(){try{i=n(82);var t=crypto.randomByte;return i&&(t=i.randomBytes)?t=t(a):(t=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(t)),g(t)}catch(t){var s=e.navigator,o=s&&s.plugins;return[+new Date,e,o,e.screen,g(r)]}}():t,3),w),v=new m(w),y=function(){for(var t=v.g(6),e=_,n=0;t<u;)t=(t+n)*a,e*=a,n=v.g(1);for(;t>=c;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,f(g(v.S),r),(h.pass||p||function(t,e,n,r){return r&&(r.S&&d(r,v),t.state=function(){return d(v,{})}),n?(s[o]=t,e):t})(y,x,"global"in h?h.global:this==s,h.state)}function m(t){var e,n=t.length,r=this,s=0,i=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);s<a;)o[s]=s++;for(s=0;s<a;s++)o[s]=o[i=h&i+t[s%n]+(e=o[s])],o[i]=e;(r.g=function(t){for(var e,n=0,s=r.i,i=r.j,o=r.S;t--;)e=o[s=h&s+1],n=n*a+o[h&(o[s]=o[i=h&i+e])+(o[i]=e)];return r.i=s,r.j=i,n})(a)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){var n,r=[],s=typeof t;if(e&&"object"==s)for(n in t)try{r.push(l(t[n],e-1))}catch(t){}return r.length?r:"string"==s?t:t+"\0"}function f(t,e){for(var n,r=t+"",s=0;s<r.length;)e[h&s]=h&(n^=19*e[h&s])+r.charCodeAt(s++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(f(s.random(),r),t.exports){t.exports=p;try{i=n(82)}catch(t){}}else"function"==typeof define&&n.amdO?define((function(){return p})):s["seed"+o]=p}("undefined"!=typeof self?self:void 0,[],Math)},82:()=>{}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e=n(186);!function(t){t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER"}(t||(t={}));class r{string_page(t){return()=>this.print_string_on_stage(t)}stage_string_pages(t){let e=[];for(let n of t)e.push(this.string_page(n));return e}get_given_answer(t){return t}print_on_input_response(t){}set_focus_on_input(){}}class s{constructor(t){this.input_type=t}accepted_responses(){return this.input_type.accepted_responses()}given_answer(t){return this.input_type.given_answer(t)}start_measurement(t){this.start_time=(new Date).getTime().valueOf(),t.print_task()}stop_measurement(t,e){let n=(new Date).getTime().valueOf();e.given_answer=this.input_type.get_given_answer(t),e.required_milliseconds=n-this.start_time,e.do_print_after_task_information()}incorrect_response(t,e){e.do_print_error_message(this.input_type.get_given_answer(t))}output_writer(){return this.input_type.output_writer}get_given_answer(t){return this.input_type.get_given_answer(t)}}class i extends s{constructor(t){super(t)}}class a{constructor(t){this.output_writer=t}print_input_request(){this.output_writer.ask_for_input()}get_given_answer(t){return this.output_writer.get_given_answer(t)}}class o extends a{constructor(t){super(t)}accepted_responses(){return["Enter"]}given_answer(t){}}const _=new class{constructor(){Math.seedrandom("1234567890")}new_random_integer(t){return Math.trunc(t*Math.random())}set_seed(t){Math.seedrandom(t)}};function u(t){_.set_seed(t)}function c(t){return _.new_random_integer(t)}function h(t,e){return-1!=t.indexOf(e)}(0,e.Z)();class p{constructor(t,e,n){this.expected_answer="",this.given_answer="",this.required_milliseconds=null,this.task_number_in_execution=-1,this.do_print_task=()=>{throw new Error("Method not implemented.")},this.do_print_error_message=()=>{throw new Error("Method not implemented.")},this.accepts_answer_function=t=>!0,this.do_print_after_task_information=()=>{throw new Error("Method not implemented.")},this.treatment_combination=t,this.experiment_definition=e}accepts_answer(t){let e=this.experiment_definition.measurement.get_given_answer(t);return this.accepts_answer_function(e)}html_string_with_cmd(t,e){}html_node_with_cmd(t,e){}after_task_string_constructor(t){}after_task_html_string_constructor(t){}print_between_tasks(){}print_task(){this.do_print_task(),this.print_input_request()}print_input_request(){this.experiment_definition.measurement.input_type.print_input_request()}}class m{constructor(t,e,n,r,s,i){this.questionnaire_responses=[],this.tasks=[],this.repetitions=1,this.template={experiment_name:t,variables:n,repetitions:r,task_creator:i},this.experiment_name=t,this.variables=n,this.repetitions=r,this.measurement=s,this.task_creator=i,this.init_experiment(e)}init_experiment(t){u(t),this.createTasks(),this.do_random_task_ordering()}createTasks(){this.tasks=[],this.all_treatment_combinations_do((t=>{let e=this.create_Task(t);this.task_creator(e),this.tasks.push(e)}))}all_treatment_combinations_do(t){for(let e=1;e<=this.repetitions;e++)this.variables[0].all_treatment_combinations_do([],this.variables.slice(1),t)}do_random_task_ordering(){let t=[],e=this.tasks.slice(),n=1;for(;t.length<this.tasks.length;){let r=c(e.length);t.push(e[r]),e[r].task_number_in_execution=n,e.splice(r,1),n++}this.tasks=t}generate_csv_data(){let t=[];for(let e of this.questionnaire_responses)t.push('"'+e.variable.name+'";');for(let e of this.variables)t.push(e.name+";");t.push("expected_answer;given_answer;is_correct;time_in_milliseconds;\n");for(let e of this.tasks){for(let e of this.questionnaire_responses)t.push('"'+e.value.split('"').join('""')+'";');for(let n of e.treatment_combination)t.push(n.value+";");t.push(e.expected_answer+";"),t.push(e.given_answer+";"),t.push((e.given_answer==e.expected_answer)+";"),t.push(e.required_milliseconds+";"),t.push("\n")}return t}}class d{}class l extends d{constructor(t){super(),this.acceptor_function=t}accepts(t){return this.acceptor_function(t)}}class f{constructor(t,e,n,r){this.from=t,this.acceptor=e,this.next_state=n,this.action=r}is_valid_input(t){return this.acceptor.accepts(t)}accepts(t){return this.acceptor.accepts(t)}}function g(t,e,n,r){return new f(t,new l(e),n,((t,e,n)=>r(e)))}function w(t){return{to:e=>({on:n=>({if:r=>({do:s=>g(t,(t=>t==n&&r(t)),e,s)}),do:r=>g(t,(t=>t==n),e,r)}),on_any:n=>({if:r=>({do:s=>g(t,(t=>h(n,t)&&r(t)),e,s)}),do:r=>g(t,(t=>h(n,t)),e,r)})})}}class x{constructor(t){this.current_state=-1,this.transitions=[],this.states=[],this.start_state=t.start,this.states=t.states;for(let t=0;t<this.states.length;t++)this.transitions.push([]);for(let e of t.transitions)this.transitions[e.from].push(e);this.init_function=t.init_function,this.end_states=t.end_states}input(t){let e=this.first_match(t),n=this.current_state;null!=e&&(this.current_state=e.next_state,e.action(n,t,this.current_state))}start(){this.current_state=this.start_state}first_match(t){for(let e=0;e<this.transitions[this.current_state].length;e++)if(this.transitions[this.current_state][e].accepts(t))return this.transitions[this.current_state][e];return null}initialize(){this.current_state=this.start_state,this.init_function()}add_finish_action(t){for(let e of this.transitions)for(let n of e)if(this.is_transition_to_end(n)){let e=n.action;n.action=(n,r,s)=>{e(n,r,s),t()}}}is_transition_to_end(t){return h(this.end_states,t.next_state)}add_action_to_transitions(t,e){for(let n of this.transitions)for(let r of n)if(t(r)){let t=r.action;r.action=(n,r,s)=>{t(n,r,s),e()}}}}class v{constructor(t,e,n,r,s){this.states=t,this.start=e,this.init_function=n,this.transitions=r,this.end_states=s}}function y(t,e,n,r,s){return new x(new v(t,e,n,r,s))}class k{constructor(t){this.set_active_function=()=>{},this.forwarder_name=t}input(t){this.automata.input(t)}set_active(){this.show_intro()}add_activation_function(t){}show_intro(){}}class b extends k{constructor(t,e,n){super(t),this.pre_run_instructions=n,this.measurement=e,this.add_activation_function((()=>this.output_writer().print_string_to_state(this.forwarder_name)))}output_writer(){return this.measurement.output_writer()}show_intro(){super.show_intro(),this.pre_run_instructions()}}class E extends b{constructor(t,e,n){super(t,n,null),this.current_page_number=-1,this.pages=e,this.current_page_number=0,this.print_current_page=()=>{this.pages[this.current_page_number]()},this.create_automata()}create_automata(){this.automata=y(this.states(),this.start_state(),(()=>{this.print_current_page()}),this.create_transitions(),this.end_states())}end_states(){return[1]}start_state(){return 0}states(){return[0,1]}create_transitions(){return[w(0).to(0).on("ArrowRight").if((()=>this.current_page_number<this.pages.length-1)).do((()=>{this.go_to_next_page()})),w(0).to(0).on("ArrowLeft").if((()=>this.current_page_number>0)).do((()=>{this.go_to_previous_page()})),w(0).to(1).on("Enter").if((()=>this.current_page_number==this.pages.length-1)).do((()=>{}))]}go_to_previous_page(){this.pages[this.current_page_number](),this.current_page_number--,this.print_current_page()}go_to_next_page(){this.pages[this.current_page_number](),this.current_page_number++,this.print_current_page()}set_active(){super.set_active(),this.print_current_page()}}class T extends b{current_task(){return this.experiment_definition.tasks[this.current_task_index]}constructor(t,e,n,r,s){super(t,s,n),this.current_task_index=-1,this.seed=e,this.experiment_definition=r,u(this.seed),this.create_automata()}set_active(){this.set_experiment_index(0),super.set_active()}create_automata(){this.automata=y([0,1,2,3,4,5],0,(()=>{}),[w(0).to(1).on("Enter").do((t=>{this.measurement.start_measurement(this.current_task())})),w(1).to(2).on_any(this.measurement.accepted_responses()).if((t=>this.current_task().accepts_answer(t)&&this.current_task_index<this.experiment_definition.tasks.length-1)).do((t=>{this.measurement.stop_measurement(t,this.current_task())})),w(1).to(1).on_any(this.measurement.accepted_responses()).if((t=>!this.current_task().accepts_answer(t))).do((t=>{this.measurement.incorrect_response(t,this.current_task())})),w(2).to(1).on("Enter").if((t=>this.current_task_index<this.experiment_definition.tasks.length-1)).do((t=>{this.inc_current_experiment(),this.measurement.start_measurement(this.current_task())})),w(1).to(3).on_any(this.measurement.accepted_responses()).if((t=>this.current_task().accepts_answer(t)&&this.current_task_index==this.experiment_definition.tasks.length-1)).do((t=>{this.measurement.stop_measurement(t,this.current_task())}))],[3]),this.automata.initialize()}set_experiment_index(t){this.current_task_index=t,this.output_writer().print_string_to_page_number(this.current_task_index+1+" / "+this.experiment_definition.tasks.length)}inc_current_experiment(){this.set_experiment_index(++this.current_task_index)}}class S extends k{constructor(t){super("Default Sequential Forwarder Forwader"),this.current_forwarder_index=0,this.forwarders=t;for(let e of t)e.automata.add_finish_action((()=>this.automata.input("switch to next state")));this.automata=y([0,1],0,(()=>{}),[w(0).to(0).on("switch to next state").if((()=>this.current_forwarder_index<this.forwarders.length-1)).do((()=>{this.current_forwarder_index++,this.current_forwarder().set_active()})),w(0).to(1).on("switch to next state").if((()=>this.current_forwarder_index==this.forwarders.length-1)).do((()=>{}))],[1]),this.automata.initialize()}input(t){this.forwarders[this.current_forwarder_index].input(t)}input_sequence(t){for(let e of t)this.input(e)}current_forwarder(){return this.forwarders[this.current_forwarder_index]}set_active(){super.set_active(),this.current_forwarder().set_active()}}class A{constructor(t,e){this.variable=t,this.value=e}}class R{constructor(t,e){this.treatments=[],this.name=t;for(let t of e)this.treatments.push(new A(this,t))}all_treatment_combinations_do(t,e,n){for(var r of this.treatments){let s=t.slice();s.push(r),0==e.length?n(s):e[0].all_treatment_combinations_do(s,e.slice(1),n)}}}class M extends m{create_code_all_experiment_automatas(t){t.measurement.output_writer(),new E("introduction",t.introduction_texts,t.measurement).add_activation_function((()=>{})),new E("finish",t.finish_texts,t.measurement).add_activation_function((()=>{}));let e,n=new T("Experiment",t.seed,t.pre_run_instructions,this,t.measurement);return n.automata.add_finish_action((()=>t.finish_function(n.experiment_definition))),e=new S([n]),e}clone(){return new M(this.template.experiment_name,""+c(123456789),this.template.variables,this.template.repetitions,this.measurement,this.template.task_creator)}create_Task(t){return new p(t,this,"")}}class C extends r{print_experiment_name(){}clear_stage(){let t=["STAGE","STAGE_MSG","STAGE_ERROR"];for(let e of t){let t=document.getElementById(e);for(;t.firstChild;)t.removeChild(t.firstChild)}}print_error_string_on_stage(t){this.get_html_element_by_id("STAGE_ERROR").innerHTML=t}get_html_element_by_id(t){return document.getElementById(t)}print_string_to_state(t){this.get_html_element_by_id("STATE").innerHTML=t}print_string_on_stage(t){this.get_html_element_by_id("STAGE").innerHTML=t}ask_for_input(){console.log("request input");let t=document.createElement("p"),e=document.createElement("input");e.setAttribute("type","text"),t.appendChild(e),e.id="INPUT",this.get_html_element_by_id("STAGE").appendChild(t),e.focus()}set_focus_on_input(){this.get_html_element_by_id("INPUT").focus()}print_string_to_page_number(t){this.get_html_element_by_id("TASK").innerHTML=t}get_given_answer(){return this.get_html_element_by_id("INPUT").value}print_on_input_response(t){this.get_html_element_by_id("INPUT").value=t}create_html_element_from_string(t){return(new DOMParser).parseFromString(t,"text/html").body}print_html_on_stage(t){this.get_html_element_by_id("STAGE").appendChild(this.create_html_element_from_string(t))}print_html_on_error(t){this.get_html_element_by_id("STAGE_ERROR").appendChild(this.create_html_element_from_string(t))}}document.n_of_1.SET_SEED=u,document.n_of_1.text_input=function(t){return new o(t)},document.n_of_1.Time_to_finish=function(t){return e=>new i(t(e))},document.n_of_1.BROWSER_EXPERIMENT=function(t){let e=new C,n=t(e),r=n.measurement(e),s=function(t){let e=[];for(let n of t.layout)e.push(new R(n.variable,n.treatments));return new M(t.experiment_name,t.seed,e,t.repetitions,t.measurement,t.task_configuration).create_code_all_experiment_automatas({seed:t.seed,introduction_texts:t.introduction_pages,pre_run_instructions:t.pre_run_instructions,finish_texts:t.finish_pages,measurement:t.measurement,finish_function:t.finish_function})}({experiment_name:n.experiment_name,seed:n.seed,introduction_pages:n.introduction_pages,pre_run_instructions:n.pre_run_instructions,finish_pages:n.finish_pages,layout:n.layout,repetitions:n.repetitions,task_configuration:n.task_configuration,measurement:r,finish_function:t=>{document.removeEventListener("keydown",i),function(t,e){const n=new Blob(e,{type:"application/ssc"}),r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download="experimentdata",document.body.appendChild(r),r.click(),document.body.removeChild(r)}(0,t.generate_csv_data())}}),i=t=>{let e=(r="","Alt"!=(n=t).key&&n.ctrlKey?"Alt+Ctrl":"Control"!=n.key&&n.altKey?"Ctrl+Alt":(r+=n.altKey?"+Alt":"",r+=n.ctrlKey?"+Control":"","Alt"==n.key?"Alt":""+n.key+r));var n,r;s.input(e)};document.addEventListener("keydown",i,!1),s.set_active()}})()})();